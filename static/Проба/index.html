<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <title>Галерея объектов</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .card img {
            height: 150px;
            object-fit: cover;
        }

        .pagination .page-link {
            width: 40px;
            text-align: center;
        }
    </style>
</head>

<body>
    <div class="container my-4">
        <div id="gallery" class="row g-4"></div>

        <nav>
            <ul class="pagination justify-content-center mt-4" id="pagination"></ul>
        </nav>
    </div>

    <script>
        const itemsPerPage = 18;
        const items = Array.from({ length: 175 }, (_, i) => ({
            title: `Объект ${i + 1}`,
            image: "https://via.placeholder.com/200x150?text=Фото+" + (i + 1)
        }));

        let currentPage = 1;

        function renderGallery() {
            const gallery = document.getElementById("gallery");
            gallery.innerHTML = "";
            const start = (currentPage - 1) * itemsPerPage;
            const end = start + itemsPerPage;
            const currentItems = items.slice(start, end);

            currentItems.forEach(item => {
                gallery.innerHTML += `
          <div class="col-sm-6 col-md-4 col-lg-2">
            <div class="card h-100 text-center">
              <img src="${item.image}" class="card-img-top" alt="${item.title}">
              <div class="card-body">
                <h6 class="card-title">${item.title}</h6>
                <a href="#" class="btn btn-primary btn-sm">Подробнее</a>
              </div>
            </div>
          </div>`;
            });
        }

        function renderPagination() {
            const pagination = document.getElementById("pagination");
            pagination.innerHTML = "";
            const totalPages = Math.ceil(items.length / itemsPerPage);
            const groupSize = 5;
            const groupIndex = Math.floor((currentPage - 1) / groupSize);
            const start = groupIndex * groupSize + 1;
            const end = Math.min(start + groupSize - 1, totalPages);

            const createButton = (label, disabled, onClick) => `
        <li class="page-item ${disabled ? 'disabled' : ''}">
          <button class="page-link" onclick="${onClick}" ${disabled ? 'disabled' : ''}>${label}</button>
        </li>`;

            pagination.innerHTML += createButton("«", currentPage === 1, "goToPage(1)");
            pagination.innerHTML += createButton("&lt;", start === 1, `goToPage(${Math.max(1, start - groupSize)})`);

            for (let i = start; i <= end; i++) {
                pagination.innerHTML += `
          <li class="page-item ${i === currentPage ? 'active' : ''}">
            <button class="page-link" onclick="goToPage(${i})">${i}</button>
          </li>`;
            }

            pagination.innerHTML += createButton("&gt;", end === totalPages, `goToPage(${Math.min(totalPages, start + groupSize)})`);
            pagination.innerHTML += createButton("»", currentPage === totalPages, `goToPage(${totalPages})`);
        }

        function goToPage(page) {
            currentPage = page;
            renderGallery();
            renderPagination();
        }

        // Инициализация
        goToPage(1);
    </script>
</body>

</html>